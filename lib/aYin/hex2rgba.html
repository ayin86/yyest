<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ayin-tools</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<script src="../3rdDev/jquery-1.11.1.min.js"></script>
<style type="text/css">
body,html,textarea{height:100%; width:100%; padding:0;margin:0;}
.the-button{position: absolute; right:0; top:50%;}
.the-button2{position: absolute; right:0; top:60%;}
</style>
</head>
<body>
<textarea name="Name">
    
.bg-gray-darker{background-color:#222!important;}
.bg-gray-dark{background-color: #333!important;}
.bg-gray{background-color: #555!important;}
.bg-gray-light{background-color: #777!important;}
.bg-gray-lighter{background-color: #eee!important;}

.font-almlevel--1{color:#999999!important;} /*-1 unknown*/
.font-almlevel-0 {color:#4bb6af!important;} /*0* normal*/
.font-almlevel-1 {color:#66ade9!important;} /*1* notify*/
.font-almlevel-2 {color:#f0d438!important;} /*2* warning*/
.font-almlevel-3 {color:#fda128!important;} /*3* minor*/
.font-almlevel-4 {color:#ff55b5!important;} /*4* major*/
.font-almlevel-5 {color:#fd6c6e!important;} /*5* fatal*/
.bg-almlevel--1{background-color:#999999!important;}/*-1 unknown*/
.bg-almlevel-0 {background-color:#4bb6af!important;}/*0 normal*/
.bg-almlevel-1 {background-color:#66ade9!important;}/*1 notify*/
.bg-almlevel-2 {background-color:#f0d438!important;}/*2 warning*/
.bg-almlevel-3 {background-color:#fda128!important;}/*3 minor*/
.bg-almlevel-4 {background-color:#ff55b5!important;}/*4 major*/
.bg-almlevel-5 {background-color:#fd6c6e!important;}/*5 fatal*/

</textarea>
<button class="the-button">HEX 2 RGBA</button>
<button class="the-button2">RGBA 2 HEX</button>
</body>
</html>
<script type="text/javascript" charset="utf-8">
function convertHex(hex,opacity){
    hex = hex.replace('#','');
    if(hex.length==3){hex=hex+hex;}
    r = parseInt(hex.substring(0,2), 16);
    g = parseInt(hex.substring(2,4), 16);
    b = parseInt(hex.substring(4,6), 16);

    result = 'rgba('+r+','+g+','+b+','+opacity/100+')';
    return result;
}
$(".the-button").click(function(){
   //$("textarea").val();
   var test=$("textarea").val();
   alert(test.match(/(\#[a-f\d]+)/g));
   //alert(test.replace(/(\:#[a-f\d]+)/g, convertHex(this,1)));
   $(test.match(/(\#[a-f\d]+)/g)).each(function(i,obj){
      $("textarea").val(test.replace(obj, convertHex(obj,100)));
      test=$("textarea").val();
   });
   //if(/^\*.*$/img.test($(td).text())){
   
    //$('h1').html(convertHex('#A7D136',100));
});

function rgb2hex(rgb){
 rgb = rgb(/(rgba?)|(\d+(\.\d+)?%?)|(\.\d+)/g);
 return (rgb && rgb.length === 4) ? "#" +
  ("0" + parseInt(rgb[1],10).toString(16)).slice(-2) +
  ("0" + parseInt(rgb[2],10).toString(16)).slice(-2) +
  ("0" + parseInt(rgb[3],10).toString(16)).slice(-2) : '';
}

function rgb2hex2(red, green, blue) {
    var rgb = blue | (green << 8) | (red << 16);
    return '#' + (0x1000000 + rgb).toString(16).slice(1)
}
function rgbToHex3(a){
  a=a.replace(/[^\d,]/g,"").split(","); 
  return"#"+((1<<24)+(+a[0]<<16)+(+a[1]<<8)+ +a[2]).toString(16).slice(1)
}


$(".the-button2").click(function(){
   //$("textarea").val();
   alert(1)
   var test=$("textarea").val();
   alert(test.match(/(rgba?)|(\d+(\.\d+)?%?)|(\.\d+)/g));
   $(test.match(/(rgba?)|(\d+(\.\d+)?%?)|(\.\d+)/g)).each(function(i,obj){
     // $("textarea").val(test.replace(obj, rgbToHex3(obj)));
      //test=$("textarea").val();
   });
   //if(/^\*.*$/img.test($(td).text())){
   
    //$('h1').html(convertHex('#A7D136',100));
});

</script>
